--
-- PostgreSQL database dump
--

-- Dumped from database version 13.3
-- Dumped by pg_dump version 13.3

-- Started on 2021-06-18 18:01:54

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 200 (class 1259 OID 25386)
-- Name: basic_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.basic_user (
    dtype character varying(31) NOT NULL,
    user_id bigint NOT NULL,
    is_active boolean,
    user_name character varying(255),
    user_password character varying(255),
    user_role integer,
    price_for_kilometer double precision,
    client_city_city_id bigint,
    managed_factory_factory_id bigint
);


ALTER TABLE public.basic_user OWNER TO postgres;

--
-- TOC entry 201 (class 1259 OID 25394)
-- Name: basic_user_connections; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.basic_user_connections (
    transport_provider_user_id bigint NOT NULL,
    connections_connection_id bigint NOT NULL
);


ALTER TABLE public.basic_user_connections OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 25397)
-- Name: city; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.city (
    city_id bigint NOT NULL,
    city_name character varying(255)
);


ALTER TABLE public.city OWNER TO postgres;

--
-- TOC entry 203 (class 1259 OID 25402)
-- Name: connection; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.connection (
    connection_id bigint NOT NULL,
    connection_length double precision,
    first_city_city_id bigint,
    second_city_city_id bigint
);


ALTER TABLE public.connection OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 25407)
-- Name: factory; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.factory (
    factory_id bigint NOT NULL,
    factory_name character varying(255),
    factory_location_city_id bigint
);


ALTER TABLE public.factory OWNER TO postgres;

--
-- TOC entry 205 (class 1259 OID 25412)
-- Name: factory_produced_products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.factory_produced_products (
    factory_factory_id bigint NOT NULL,
    produced_products_id bigint NOT NULL
);


ALTER TABLE public.factory_produced_products OWNER TO postgres;

--
-- TOC entry 211 (class 1259 OID 25444)
-- Name: hibernate_sequence; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.hibernate_sequence
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.hibernate_sequence OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 25415)
-- Name: order_item; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.order_item (
    id bigint NOT NULL,
    product_amount integer,
    factory_factory_id bigint,
    order_order_id bigint,
    product_product_id bigint
);


ALTER TABLE public.order_item OWNER TO postgres;

--
-- TOC entry 207 (class 1259 OID 25420)
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    product_id bigint NOT NULL,
    product_name character varying(255),
    product_prize double precision,
    product_type integer
);


ALTER TABLE public.product OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 25430)
-- Name: product_order; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product_order (
    order_id bigint NOT NULL,
    order_price double precision,
    order_status integer,
    order_client_user_id bigint,
    order_transport_provider_user_id bigint
);


ALTER TABLE public.product_order OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 25435)
-- Name: product_order_ordered_products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product_order_ordered_products (
    product_order_order_id bigint NOT NULL,
    ordered_products_id bigint NOT NULL
);


ALTER TABLE public.product_order_ordered_products OWNER TO postgres;

--
-- TOC entry 208 (class 1259 OID 25425)
-- Name: production_ability; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.production_ability (
    id bigint NOT NULL,
    product_amount integer,
    reserved_products integer,
    my_factory_factory_id bigint,
    my_product_product_id bigint
);


ALTER TABLE public.production_ability OWNER TO postgres;

--
-- TOC entry 3061 (class 0 OID 25386)
-- Dependencies: 200
-- Data for Name: basic_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.basic_user (dtype, user_id, is_active, user_name, user_password, user_role, price_for_kilometer, client_city_city_id, managed_factory_factory_id) FROM stdin;
Administrator	25	t	admin	zaq1@WSX	1	\N	\N	\N
TransportProvider	26	t	FastPackageDelivery	fpd89563	4	5.65	\N	\N
TransportProvider	27	t	PackageDeliveryService	pds1223	4	4.95	\N	\N
OrderManager	28	t	managerJohnny	johnnyBoy	2	\N	\N	\N
OrderManager	29	t	managerSylvie	mgrSylvie	2	\N	\N	\N
FactoryManager	30	t	4Fmanagement	4fabryki	3	\N	\N	21
FactoryManager	31	t	PANINImanagement	Pantalonini	3	\N	\N	22
FactoryManager	32	t	BBmanagement	BobaBubbles	3	\N	\N	23
FactoryManager	33	t	SMmanagement	SoftMango	3	\N	\N	24
Client	34	t	Anna	halo_witam	0	\N	1	\N
Client	35	t	Jan	jan1331	0	\N	2	\N
Client	36	t	Zofia	kwiatuszek123	0	\N	3	\N
Client	37	t	Adam	mocnehaslo	0	\N	4	\N
Client	38	t	Monika	ddLitClub	0	\N	5	\N
\.


--
-- TOC entry 3062 (class 0 OID 25394)
-- Dependencies: 201
-- Data for Name: basic_user_connections; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.basic_user_connections (transport_provider_user_id, connections_connection_id) FROM stdin;
\.


--
-- TOC entry 3063 (class 0 OID 25397)
-- Dependencies: 202
-- Data for Name: city; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.city (city_id, city_name) FROM stdin;
1	Katowice
2	Gliwice
3	Zabrze
4	Tychy
5	Bytom
\.


--
-- TOC entry 3064 (class 0 OID 25402)
-- Dependencies: 203
-- Data for Name: connection; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.connection (connection_id, connection_length, first_city_city_id, second_city_city_id) FROM stdin;
6	6.4	1	1
7	30	1	2
8	22	1	3
9	19	1	4
10	15.5	1	5
11	3.8	2	2
12	12	2	3
13	33.6	2	4
14	24	2	5
15	1.8	3	3
16	41.2	3	4
17	12	3	5
18	4.2	4	4
19	34.2	4	5
20	3.6	5	5
\.


--
-- TOC entry 3065 (class 0 OID 25407)
-- Dependencies: 204
-- Data for Name: factory; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.factory (factory_id, factory_name, factory_location_city_id) FROM stdin;
21	4fabryki	1
22	Pantalonini	2
23	BobaBubbles	4
24	SoftMango	5
\.


--
-- TOC entry 3066 (class 0 OID 25412)
-- Dependencies: 205
-- Data for Name: factory_produced_products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.factory_produced_products (factory_factory_id, produced_products_id) FROM stdin;
\.


--
-- TOC entry 3067 (class 0 OID 25415)
-- Dependencies: 206
-- Data for Name: order_item; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.order_item (id, product_amount, factory_factory_id, order_order_id, product_product_id) FROM stdin;
\.


--
-- TOC entry 3068 (class 0 OID 25420)
-- Dependencies: 207
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.product (product_id, product_name, product_prize, product_type) FROM stdin;
\.


--
-- TOC entry 3070 (class 0 OID 25430)
-- Dependencies: 209
-- Data for Name: product_order; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.product_order (order_id, order_price, order_status, order_client_user_id, order_transport_provider_user_id) FROM stdin;
\.


--
-- TOC entry 3071 (class 0 OID 25435)
-- Dependencies: 210
-- Data for Name: product_order_ordered_products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.product_order_ordered_products (product_order_order_id, ordered_products_id) FROM stdin;
\.


--
-- TOC entry 3069 (class 0 OID 25425)
-- Dependencies: 208
-- Data for Name: production_ability; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.production_ability (id, product_amount, reserved_products, my_factory_factory_id, my_product_product_id) FROM stdin;
\.


--
-- TOC entry 3078 (class 0 OID 0)
-- Dependencies: 211
-- Name: hibernate_sequence; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.hibernate_sequence', 38, true);


--
-- TOC entry 2892 (class 2606 OID 25393)
-- Name: basic_user basic_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.basic_user
    ADD CONSTRAINT basic_user_pkey PRIMARY KEY (user_id);


--
-- TOC entry 2896 (class 2606 OID 25401)
-- Name: city city_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.city
    ADD CONSTRAINT city_pkey PRIMARY KEY (city_id);


--
-- TOC entry 2898 (class 2606 OID 25406)
-- Name: connection connection_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.connection
    ADD CONSTRAINT connection_pkey PRIMARY KEY (connection_id);


--
-- TOC entry 2900 (class 2606 OID 25411)
-- Name: factory factory_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.factory
    ADD CONSTRAINT factory_pkey PRIMARY KEY (factory_id);


--
-- TOC entry 2904 (class 2606 OID 25419)
-- Name: order_item order_item_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT order_item_pkey PRIMARY KEY (id);


--
-- TOC entry 2910 (class 2606 OID 25434)
-- Name: product_order product_order_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_order
    ADD CONSTRAINT product_order_pkey PRIMARY KEY (order_id);


--
-- TOC entry 2906 (class 2606 OID 25424)
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (product_id);


--
-- TOC entry 2908 (class 2606 OID 25429)
-- Name: production_ability production_ability_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.production_ability
    ADD CONSTRAINT production_ability_pkey PRIMARY KEY (id);


--
-- TOC entry 2894 (class 2606 OID 25439)
-- Name: basic_user_connections uk_cm7dqvcxj960bnv0wucq0n83h; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.basic_user_connections
    ADD CONSTRAINT uk_cm7dqvcxj960bnv0wucq0n83h UNIQUE (connections_connection_id);


--
-- TOC entry 2912 (class 2606 OID 25443)
-- Name: product_order_ordered_products uk_olutwc5xmxpvf6332n02fgrkt; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_order_ordered_products
    ADD CONSTRAINT uk_olutwc5xmxpvf6332n02fgrkt UNIQUE (ordered_products_id);


--
-- TOC entry 2902 (class 2606 OID 25441)
-- Name: factory_produced_products uk_rc7uf27x60t13xf4lhi6m5kh8; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.factory_produced_products
    ADD CONSTRAINT uk_rc7uf27x60t13xf4lhi6m5kh8 UNIQUE (produced_products_id);


--
-- TOC entry 2916 (class 2606 OID 25461)
-- Name: basic_user_connections fk1dv5ft2joolvh91vh7h09rijo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.basic_user_connections
    ADD CONSTRAINT fk1dv5ft2joolvh91vh7h09rijo FOREIGN KEY (transport_provider_user_id) REFERENCES public.basic_user(user_id);


--
-- TOC entry 2920 (class 2606 OID 25481)
-- Name: factory_produced_products fk1qyp0a6dalkicofb98jdxo7a8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.factory_produced_products
    ADD CONSTRAINT fk1qyp0a6dalkicofb98jdxo7a8 FOREIGN KEY (produced_products_id) REFERENCES public.production_ability(id);


--
-- TOC entry 2914 (class 2606 OID 25451)
-- Name: basic_user fk3hf6b3471cnf4kutfk0s7h2h7; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.basic_user
    ADD CONSTRAINT fk3hf6b3471cnf4kutfk0s7h2h7 FOREIGN KEY (managed_factory_factory_id) REFERENCES public.factory(factory_id);


--
-- TOC entry 2924 (class 2606 OID 25501)
-- Name: order_item fk5rg4979tfgc0krehhy6eh2e8f; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT fk5rg4979tfgc0krehhy6eh2e8f FOREIGN KEY (product_product_id) REFERENCES public.product(product_id);


--
-- TOC entry 2921 (class 2606 OID 25486)
-- Name: factory_produced_products fk7vy81didtmq3li5t7vq3gdx5g; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.factory_produced_products
    ADD CONSTRAINT fk7vy81didtmq3li5t7vq3gdx5g FOREIGN KEY (factory_factory_id) REFERENCES public.factory(factory_id);


--
-- TOC entry 2918 (class 2606 OID 25471)
-- Name: connection fkandevnba2txxunq94nmsy3e74; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.connection
    ADD CONSTRAINT fkandevnba2txxunq94nmsy3e74 FOREIGN KEY (second_city_city_id) REFERENCES public.city(city_id);


--
-- TOC entry 2926 (class 2606 OID 25511)
-- Name: production_ability fkbq5hlga6duct5d7x5c5dbyhtp; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.production_ability
    ADD CONSTRAINT fkbq5hlga6duct5d7x5c5dbyhtp FOREIGN KEY (my_product_product_id) REFERENCES public.product(product_id);


--
-- TOC entry 2922 (class 2606 OID 25491)
-- Name: order_item fkc36f6y2fq8gv04q6aphl2yxga; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT fkc36f6y2fq8gv04q6aphl2yxga FOREIGN KEY (factory_factory_id) REFERENCES public.factory(factory_id);


--
-- TOC entry 2925 (class 2606 OID 25506)
-- Name: production_ability fkdx6byfmy5j94hu2emi2fhd1p7; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.production_ability
    ADD CONSTRAINT fkdx6byfmy5j94hu2emi2fhd1p7 FOREIGN KEY (my_factory_factory_id) REFERENCES public.factory(factory_id);


--
-- TOC entry 2915 (class 2606 OID 25456)
-- Name: basic_user_connections fkhwc8dytc6atu5mj3mxw4vvftv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.basic_user_connections
    ADD CONSTRAINT fkhwc8dytc6atu5mj3mxw4vvftv FOREIGN KEY (connections_connection_id) REFERENCES public.connection(connection_id);


--
-- TOC entry 2929 (class 2606 OID 25526)
-- Name: product_order_ordered_products fki399xrjdcgaitr99ypr8r7qn4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_order_ordered_products
    ADD CONSTRAINT fki399xrjdcgaitr99ypr8r7qn4 FOREIGN KEY (ordered_products_id) REFERENCES public.order_item(id);


--
-- TOC entry 2928 (class 2606 OID 25521)
-- Name: product_order fkkbarvgs8fpvvq9679er04hcgf; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_order
    ADD CONSTRAINT fkkbarvgs8fpvvq9679er04hcgf FOREIGN KEY (order_transport_provider_user_id) REFERENCES public.basic_user(user_id);


--
-- TOC entry 2913 (class 2606 OID 25446)
-- Name: basic_user fklld9j2om4kk2b2f6q3cumdcw9; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.basic_user
    ADD CONSTRAINT fklld9j2om4kk2b2f6q3cumdcw9 FOREIGN KEY (client_city_city_id) REFERENCES public.city(city_id);


--
-- TOC entry 2927 (class 2606 OID 25516)
-- Name: product_order fklmcr8iosc38xwk7c0qb7isat6; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_order
    ADD CONSTRAINT fklmcr8iosc38xwk7c0qb7isat6 FOREIGN KEY (order_client_user_id) REFERENCES public.basic_user(user_id);


--
-- TOC entry 2923 (class 2606 OID 25496)
-- Name: order_item fkmmrt9wd6m34ncblb9ibmbe021; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT fkmmrt9wd6m34ncblb9ibmbe021 FOREIGN KEY (order_order_id) REFERENCES public.product_order(order_id);


--
-- TOC entry 2917 (class 2606 OID 25466)
-- Name: connection fkmp2jwc7hkrhm0o0t5aourwukf; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.connection
    ADD CONSTRAINT fkmp2jwc7hkrhm0o0t5aourwukf FOREIGN KEY (first_city_city_id) REFERENCES public.city(city_id);


--
-- TOC entry 2930 (class 2606 OID 25531)
-- Name: product_order_ordered_products fkqbf3jxrhkoogij4kigs7j338v; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_order_ordered_products
    ADD CONSTRAINT fkqbf3jxrhkoogij4kigs7j338v FOREIGN KEY (product_order_order_id) REFERENCES public.product_order(order_id);


--
-- TOC entry 2919 (class 2606 OID 25476)
-- Name: factory fkrralnfl8xsjt9fkt0t4p6ngmt; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.factory
    ADD CONSTRAINT fkrralnfl8xsjt9fkt0t4p6ngmt FOREIGN KEY (factory_location_city_id) REFERENCES public.city(city_id);


-- Completed on 2021-06-18 18:01:54

--
-- PostgreSQL database dump complete
--

